<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Molecular Wiki - Full & Complete</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <style>
        body { 
            display: flex; 
            flex-direction: column; 
            align-items: center; 
            background-color: #ffffff; 
            padding: 40px; 
            font-family: 'Courier New', Courier, monospace; 
        }

        /* Matches your Banner box */
        .banner { 
            width: 600px; 
            height: 180px; 
            border: 4px solid black; 
            display: flex; 
            justify-content: center; 
            align-items: center; 
            font-size: 80px; 
            font-weight: bold;
            margin-bottom: 40px; 
        }

        /* Matches your Search Box bar */
        .search-container { 
            width: 550px; 
            height: 45px; 
            border: 3px solid black; 
            margin-bottom: 60px; 
        }
        .search-container input { 
            width: 100%; 
            height: 100%; 
            border: none; 
            text-align: center; 
            font-size: 22px; 
            font-weight: bold; 
            outline: none; 
        }

        /* Section layout based on your sketch */
        .molecule-entry { 
            width: 550px; 
            margin-bottom: 80px; 
            display: flex; 
            flex-direction: column; 
        }

        .molecule-title { 
            font-weight: bold; 
            font-size: 24px; 
            margin-bottom: 10px; 
            text-transform: uppercase;
        }

        /* The Knowledge Box (Empty gaps as requested) */
        .knowledge-box { 
            width: 350px; 
            min-height: 70px; 
            border: 3px solid black; 
            margin-bottom: 25px; 
            padding: 10px;
            font-size: 18px;
            background-color: white;
        }

        /* The 3D Box (Gray Box from sketch) */
        .canvas-3d { 
            width: 500px; 
            height: 300px; 
            background-color: #808080; 
            border: 3px solid black; 
        }
    </style>
</head>
<body>

    <div class="banner">Banner</div>

    <div class="search-container">
        <input type="text" id="mol-search" placeholder="SEARCH BOX" onkeydown="if(event.key==='Enter') searchMolecule()">
    </div>

    <div class="molecule-entry">
        <div class="molecule-title">HCL (Hydrochloric Acid)</div>
        <div class="knowledge-box">
            HCl is a strong, corrosive acid used in laboratories.
        </div>
        <div id="hcl-box" class="canvas-3d"></div>
    </div>

    <div class="molecule-entry">
        <div class="molecule-title">H2O (Water)</div>
        <div class="knowledge-box">
            Water has a bent geometry with a bond angle of 104.5 degrees.
        </div>
        <div id="h2o-box" class="canvas-3d"></div>
    </div>

    <div class="molecule-entry">
        <div class="molecule-title">Glucose (C6H12O6)</div>
        <div class="knowledge-box">
            A hexose sugar used as a primary energy source.
        </div>
        <div id="glucose-box" class="canvas-3d"></div>
    </div>

    <div class="molecule-entry">
        <div class="molecule-title">NaCl (Sodium Chloride)</div>
        <div class="knowledge-box">
            Common table salt forming a face-centered cubic lattice.
        </div>
        <div id="nacl-box" class="canvas-3d"></div>
    </div>

    <script>
        // --- THE ENGINE ---
        function draw3D(elementId, atoms, bonds, zoomLevel) {
            const el = document.getElementById(elementId);
            const scene = new THREE.Scene();
            const camera = new THREE.PerspectiveCamera(50, el.clientWidth / el.clientHeight, 0.1, 1000);
            const renderer = new THREE.WebGLRenderer({ antialias: true });
            
            renderer.setSize(el.clientWidth, el.clientHeight);
            renderer.setClearColor(0x808080);
            el.appendChild(renderer.domElement);

            // Light
            const ambient = new THREE.AmbientLight(0xffffff, 0.7);
            scene.add(ambient);
            const point = new THREE.PointLight(0xffffff, 0.8);
            point.position.set(10, 10, 10);
            scene.add(point);

            // Draw Atoms (Spheres)
            atoms.forEach(a => {
                const geom = new THREE.SphereGeometry(a.size, 32, 32);
                const mat = new THREE.MeshPhongMaterial({ color: a.color });
                const mesh = new THREE.Mesh(geom, mat);
                mesh.position.set(a.x, a.y, a.z);
                scene.add(mesh);
            });

            // Draw Bonds (Cylinders)
            bonds.forEach(b => {
                const start = new THREE.Vector3(atoms[b.from].x, atoms[b.from].y, atoms[b.from].z);
                const end = new THREE.Vector3(atoms[b.to].x, atoms[b.to].y, atoms[b.to].z);
                const dist = start.distanceTo(end);
                
                const cylGeom = new THREE.CylinderGeometry(0.1, 0.1, dist, 12);
                const cylMat = new THREE.MeshPhongMaterial({ color: 0xeeeeee });
                const cyl = new THREE.Mesh(cylGeom, cylMat);

                cyl.position.copy(start.clone().lerp(end, 0.5));
                cyl.quaternion.setFromUnitVectors(new THREE.Vector3(0, 1, 0), end.clone().sub(start).normalize());
                scene.add(cyl);
            });

            camera.position.z = zoomLevel;

            function animate() {
                requestAnimationFrame(animate);
                scene.rotation.y += 0.01;
                renderer.render(scene, camera);
            }
            animate();
        }

        // --- SUBSTANCE CALCULATIONS ---

        // 1. HCl
        draw3D('hcl-box', [
            {color: 0xff0000, size: 0.7, x: -1, y: 0, z: 0}, // Cl
            {color: 0x00ff00, size: 0.5, x: 1, y: 0, z: 0}   // H
        ], [{from: 0, to: 1}], 5);

        // 2. H2O
        draw3D('h2o-box', [
            {color: 0x00ff00, size: 0.6, x: 0, y: 0.5, z: 0},   // O
            {color: 0x0000ff, size: 0.4, x: -0.9, y: -0.4, z: 0}, // H
            {color: 0x0000ff, size: 0.4, x: 0.9, y: -0.4, z: 0}   // H
        ], [{from: 0, to: 1}, {from: 0, to: 2}], 5);

        // 3. GLUCOSE (6C, 6O, 12H) - Complete 24 Atom Model
        const glucose_atoms = [
            // 6 Carbons (Dark)
            {color: 0x333333, size: 0.5, x: 1.2, y: 0, z: 0}, {color: 0x333333, size: 0.5, x: 0.6, y: 1, z: 0.6},
            {color: 0x333333, size: 0.5, x: -0.6, y: 1, z: 0.6}, {color: 0x333333, size: 0.5, x: -1.2, y: 0, z: 0},
            {color: 0x333333, size: 0.5, x: -0.6, y: -1, z: -0.6}, {color: 0x333333, size: 0.5, x: 0.6, y: -1, z: -0.6},
            // 6 Oxygens (Red)
            {color: 0xff0000, size: 0.45, x: 2.2, y: 0, z: 0}, {color: 0xff0000, size: 0.45, x: 1.1, y: 1.8, z: 1.1},
            {color: 0xff0000, size: 0.45, x: -1.1, y: 1.8, z: 1.1}, {color: 0xff0000, size: 0.45, x: -2.2, y: 0, z: 0},
            {color: 0xff0000, size: 0.45, x: -1.1, y: -1.8, z: -1.1}, {color: 0xff0000, size: 0.45, x: 1.1, y: -1.8, z: -1.1},
            // 12 Hydrogens (White)
            {color: 0xffffff, size: 0.25, x: 1.3, y: -0.8, z: 0.5}, {color: 0xffffff, size: 0.25, x: 2.6, y: 0.5, z: 0},
            {color: 0xffffff, size: 0.25, x: 0.6, y: 1.5, z: -0.2}, {color: 0xffffff, size: 0.25, x: 1.6, y: 2.3, z: 1},
            {color: 0xffffff, size: 0.25, x: -0.6, y: 1.5, z: -0.2}, {color: 0xffffff, size: 0.25, x: -1.6, y: 2.3, z: 1},
            {color: 0xffffff, size: 0.25, x: -1.3, y: -0.8, z: -0.5}, {color: 0xffffff, size: 0.25, x: -2.6, y: 0.5, z: 0},
            {color: 0xffffff, size: 0.25, x: -0.6, y: -1.5, z: 0.2}, {color: 0xffffff, size: 0.25, x: -1.6, y: -2.3, z: -1},
            {color: 0xffffff, size: 0.25, x: 0.6, y: -1.5, z: 0.2}, {color: 0xffffff, size: 0.25, x: 1.6, y: -2.3, z: -1}
        ];
        const glucose_bonds = [
            {from: 0, to: 1}, {from: 1, to: 2}, {from: 2, to: 3}, {from: 3, to: 4}, {from: 4, to: 5}, {from: 5, to: 0},
            {from: 0, to: 6}, {from: 1, to: 7}, {from: 2, to: 8}, {from: 3, to: 9}, {from: 4, to: 10}, {from: 5, to: 11}
        ];
        draw3D('glucose-box', glucose_atoms, glucose_bonds, 8);

        // 4. NaCl
        const nacl_atoms = [
            {color: 0x8A2BE2, size: 0.45, x:-0.8, y:0.8, z:0.8}, {color: 0x00ff00, size: 0.6, x:0.8, y:0.8, z:0.8}, 
            {color: 0x00ff00, size: 0.6, x:-0.8, y:-0.8, z:0.8}, {color: 0x8A2BE2, size: 0.45, x:0.8, y:-0.8, z:0.8},
            {color: 0x00ff00, size: 0.6, x:-0.8, y:0.8, z:-0.8}, {color: 0x8A2BE2, size: 0.45, x:0.8, y:0.8, z:-0.8},
            {color: 0x8A2BE2, size: 0.45, x:-0.8, y:-0.8, z:-0.8},{color: 0x00ff00, size: 0.6, x:0.8, y:-0.8, z:-0.8}
        ];
        const nacl_bonds = [
            {from:0, to:1}, {from:1, to:3}, {from:3, to:2}, {from:2, to:0},
            {from:4, to:5}, {from:5, to:7}, {from:7, to:6}, {from:6, to:4},
            {from:0, to:4}, {from:1, to:5}, {from:2, to:6}, {from:3, to:7}
        ];
        draw3D('nacl-box', nacl_atoms, nacl_bonds, 6);

        // SEARCH FUNCTION
        function searchMolecule() {
            const query = document.getElementById('mol-search').value;
            alert("Search active! You are looking for: " + query);
        }
    </script>
</body>
            </html>
